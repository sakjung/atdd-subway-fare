# atdd-subway-fare

## 지하철 노선도 API 설계 및 구현
지하철 노선도의 전체 정보를 응답하는 새로운 API를 구현하기
프론트엔드에서 필요한 데이터만 응답할 수 있도록 프론트엔드 페어와 논의하여 API 설계하기

### 기능 요구사항
- [ ] 지하철 노선도 API 구현하기
- [ ] 지하철 노선과 노선에 포함된 역을 순서대로 응답하는 새로운 API를 구현하기
- [ ] 기존 GET /lines API는 두고 새로운 API를 명세하기
- [ ] url의 path, response의 데이터 포맷 등 새롭게 설계하기


## 경로 조회 시 요금 정보 포함하기

### 기능 요구사항
- [ ] 요금 계산 기능
- [ ] 경로 조회 결과에 요금 정보를 포함

#### 요금 계산 방법
- 기본운임(10㎞ 이내) : 기본운임 1,250원
- 이용 거리초과 시 추가운임 부과
- 10km초과∼50km까지(5km마다 100원)
- 50km초과 시 (8km마다 100원)

```
9km = 1250원
12km = 10km + 2km = 1350원
16km = 10km + 6km = 1450원

// 지하철 운임은 거리비례제로 책정 (실제 경로가 아닌 최단거리 기준)
```

## 요금 정책 세부화

### 추가된 요금 정책
- [ ] 노선별 추가 요금을 적용한 요금 계산 기능

```
추가 요금이 있는 노선을 이용 할 경우 측정된 요금에 추가
ex) 900원 추가 요금이 있는 노선 8km 이용 시 1,250원 -> 2,150원
ex) 900원 추가 요금이 있는 노선 12km 이용 시 1,350원 -> 2,250원
경로 중 추가요금이 있는 노선을 환승 하여 이용 할 경우 가장 높은 금액의 추가 요금만 적용
ex) 0원, 500원, 900원의 추가 요금이 있는 노선들을 경유하여 8km 이용 시 1,250원 -> 2,150원
```

- [ ] 이용자 연령대 별 요금정책을 적용한 요금 계산 기능

```
로그인 사용자의 경우 연령별 요금으로 계산
청소년: 운임에서 350원을 공제한 금액의 20%할인
어린이: 운임에서 350원을 공제한 금액의 50%할인
- 청소년: 13세 이상~19세 미만
- 어린이: 6세 이상~ 13세 미만
```
